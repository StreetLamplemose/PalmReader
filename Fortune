<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Palm Reader</title>
<style>
  :root{--bg:#0b1020;--card:#0f1724;--accent:#6be7c4;--text:#e6f0ff}
  html,body{height:100%;margin:0;background:radial-gradient(1200px 600px at 10% 10%, #07101a, var(--bg));font-family:Inter,system-ui,Segoe UI,Roboto,Arial;}
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(107,231,196,0.08);width:100%;max-width:520px;padding:28px;border-radius:14px;box-shadow:0 10px 30px rgba(2,6,23,0.6);color:var(--text)}
  h1{margin:0 0 8px;font-size:20px;letter-spacing:0.6px}
  p.fortune{font-size:20px;margin:18px 0;padding:18px;background:rgba(107,231,196,0.03);border-radius:10px;border:1px solid rgba(107,231,196,0.04);min-height:78px;display:flex;align-items:center;justify-content:center; text-align:center;}
  .small{font-size:12px;color:#9fb0c8;margin-top:6px}
  .btns{display:flex;gap:8px;margin-top:12px}
  button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:8px 12px;border-radius:8px;cursor:pointer}
  button.primary{background:var(--accent);color:#072020;border:none;box-shadow:0 6px 18px rgba(107,231,196,0.12)}
  .credits{font-size:11px;color:#89a3bf;margin-top:10px;text-align:center}
  .pulse{animation:pulse 900ms ease}
  @keyframes pulse {0%{transform:scale(.98)}50%{transform:scale(1.02)}100%{transform:scale(1)}}
</style>
</head>
<body>
<div class="wrap">
  <div class="card" role="main">
    <h1>Palm Reader</h1>
    <div class="small">Scan detected — your fortune appears below.</div>
    <p class="fortune" id="fortune">Reading the lines...</p>
    <div class="btns">
      <button id="again">Another</button>
      <button class="primary" id="share">Share</button>
    </div>
    <div class="credits">Palm Reader • Tap your hand — fortune updates each scan or tap</div>
  </div>
</div>

<script>
const fortunes = [
 "A small kindness will return to you in a surprising way.",
 "You will soon discover a hidden talent.",
 "A message you need is closer than you think.",
 "Make a little space — new opportunities will arrive.",
 "Someone will laugh at your next terrible joke — profit.",
 "Trust your curiosity; it will take you somewhere interesting.",
 "An old friend will resurface with good news.",
 "Do one thing today your future self will thank you for.",
 "A coincidence will feel like fate — enjoy it.",
 "Your stubbornness will save the day in an odd way.",
 "A secret you keep will become a funny story.",
 "Money comes when you least expect it (and usually for pizza).",
 "You will make an unexpected ally.",
 "The right question will change your path.",
 "A late-night idea is worth following in the morning.",
 "You will be offered something twice — accept the second time.",
 "A tiny risk will create a big reward.",
 "You will find clarity in a place you forgot to look.",
 "Someone admires your courage silently.",
 "Take one day this week and do nothing — your mind will repay you."
];

function pickRandom(){
  return fortunes[Math.floor(Math.random()*fortunes.length)];
}

const el = document.getElementById('fortune');
const againBtn = document.getElementById('again');
const shareBtn = document.getElementById('share');

function showFortune(text){
  el.classList.remove('pulse');
  void el.offsetWidth; // restart animation
  el.textContent = text;
  el.classList.add('pulse');
  // optional: text-to-speech
  if(window.speechSynthesis && localStorage.getItem('speak') === '1'){
    const u = new SpeechSynthesisUtterance(text);
    u.lang = 'en-US';
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(u);
  }
}

function init(){
  // Attempt to avoid repeating same fortune for the same device in quick succession:
  const last = sessionStorage.getItem('lastFortune');
  let f = pickRandom();
  if(last && fortunes.length > 1){
    let attempts = 0;
    while(f === last && attempts < 10){ f = pickRandom(); attempts++; }
  }
  sessionStorage.setItem('lastFortune', f);
  showFortune(f);
}
againBtn.addEventListener('click', () => {
  const f = pickRandom();
  sessionStorage.setItem('lastFortune', f);
  showFortune(f);
});
shareBtn.addEventListener('click', () => {
  if(navigator.share){
    navigator.share({title:'My Fortune', text:el.textContent}).catch(()=>{});
  } else {
    navigator.clipboard.writeText(el.textContent).then(()=> alert('Fortune copied to clipboard'));
  }
});

init();
</script>
</body>
</html>
